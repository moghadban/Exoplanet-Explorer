{% extends 'base.html.twig' %}

{% block title %}Habitable Planet Dashboard{% endblock %}

{% block body %}
    <div class="container-fluid mt-4 text-light">
        <h1 style="text-align: center; padding-bottom: 20px;">Habitable Planet Dashboard</h1>
        <!-- Pie Chart: Habitable vs Non-Habitable -->
        <div class="row">
            <div class="col-md-6 text-light">
                <h4 style="text-align: center;">Habitable vs Non-Habitable</h4>
                <canvas style="height:18rem;background-color: #00000000;" id="habitablePie"
                        data-habitable="{{ habitable|length }}"
                        data-nonhabitable="{{ nonHabitable|length }}"></canvas>
                <div id="habitableExports" class="export-buttons"
                     style="padding-top:20px;margin-top:0.6rem;text-align: center"></div>
            </div>
            <!-- Bar Chart: Planets by Radius Category -->
            <div class="col-md-6 text-light">
                <h4 style="text-align: center;">Planets by Radius Category</h4>
                <canvas style="height:18.75rem;background-color: #00000000;" id="radiusBar"
                        data-categories="{{ radiusCategories|json_encode|raw|e('html_attr') }}"></canvas>
                <div id="radiusExports" class="export-buttons"
                     style="padding-top:20px;margin-top:0.6rem;text-align: center;"></div>
            </div>
        </div>
        <hr/>
        <p style="font-size:0.85rem; color:#666; margin-top:1rem;">
            <strong>Note:</strong> Habitability is determined based on heuristics using radius, mass, stellar
            temperature, and insolation from
            <a href="https://exoplanetarchive.ipac.caltech.edu/cgi-bin/TblView/nph-tblView?app=ExoTbls&config=PS"
               target="_blank" rel="noopener noreferrer">
                NASA Exoplanet Archive
            </a>. Planets that do not meet the criteria are classified as non-habitable. Only planets with missing or
            uncertain values in other properties are grouped as "Unknown."
        </p>
    </div>
    {% block javascripts %}
        {{ parent() }}
        <script src="{{ asset('js/habitable_planets.js') }}"></script>
    {% endblock %}
{% endblock %}
